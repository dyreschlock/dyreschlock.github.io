<html><head><title>One Schlock's Requiem</title><meta content="Apache Tapestry Framework (version 5.3.8)" name="generator"/><meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type"/><link type="text/css" rel="stylesheet" href="/assets/3d31a48a1688d47c/core/default.css"/><style>.clr{ clear:both;}#postContent img,#contentPanel img,div.entry img,div.blogbody img,div.contentBody img{ max-width:100%;}#postContent p.img,#contentPanel p.img,div.entry p.img,div.blogbody p.img,div.contentBody p.img{ text-align:center;}#postContent div.gbcameraColumns div.columnOne,#contentPanel div.gbcameraColumns div.columnOne,div.entry div.gbcameraColumns div.columnOne,div.blogbody div.gbcameraColumns div.columnOne,div.contentBody div.gbcameraColumns div.columnOne{ width:60%; margin-right:0; position:relative; float:left;}#postContent div.gbcameraColumns div.columnTwo,#contentPanel div.gbcameraColumns div.columnTwo,div.entry div.gbcameraColumns div.columnTwo,div.blogbody div.gbcameraColumns div.columnTwo,div.contentBody div.gbcameraColumns div.columnTwo{ width:36%; margin-right:0; position:relative; float:right;}#postContent div.columns div.column,#contentPanel div.columns div.column,div.entry div.columns div.column,div.blogbody div.columns div.column,div.contentBody div.columns div.column{ width:48%; margin-right:3%; position:relative; float:left;}#postContent div.columns div.twoColumnLast,#contentPanel div.columns div.twoColumnLast,div.entry div.columns div.twoColumnLast,div.blogbody div.columns div.twoColumnLast,div.contentBody div.columns div.twoColumnLast{ margin-right:0; float:right;}#postContent div.threeColumns div.column,#contentPanel div.threeColumns div.column,div.entry div.threeColumns div.column,div.blogbody div.threeColumns div.column,div.contentBody div.threeColumns div.column{ width:31%; margin-right:3%; position:relative; float:left;}#postContent div.threeColumns div.threeColumnLast,#contentPanel div.threeColumns div.threeColumnLast,div.entry div.threeColumns div.threeColumnLast,div.blogbody div.threeColumns div.threeColumnLast,div.contentBody div.threeColumns div.threeColumnLast{ margin-right:0; float:right;}#postContent div.fourColumns div.column,#contentPanel div.fourColumns div.column,div.entry div.fourColumns div.column,div.blogbody div.fourColumns div.column,div.contentBody div.fourColumns div.column{ width:23%; margin-right:2.5%; position:relative; float:left;}#postContent div.fourColumns div.fourColumnLast,#contentPanel div.fourColumns div.fourColumnLast,div.entry div.fourColumns div.fourColumnLast,div.blogbody div.fourColumns div.fourColumnLast,div.contentBody div.fourColumns div.fourColumnLast{ width:23%; margin-right:0; float:right;}body{ scrollbar-face-color:#666; scrollbar-shadow-color:#666; scrollbar-highlight-color:#606060; scrollbar-3dlight-color:#666; scrollbar-darkshadow-color:#666; scrollbar-track-color:#515151; scrollbar-arrow-color:#484848;}#menu{ position:fixed; left:0; right:0; top:0; height:29px; padding:8px; color:#fff; background-color:#666;}#menu a,#menu td{ color:#fff;}#body{ position:fixed; left:0; right:0; top:45px; bottom:0; overflow:auto;}#menuContent,#bodyContent{ max-width:1024px; margin-left:auto; margin-right:auto;}#body.guestbook{ background-color:#666; color:#ccc;}#body.guestbook td{ color:#ccc;}#body.guestbook a,#body.guestbook a:visited{ color:#c5c5d8;}#body.project{ background-color:#fff; color:#000;}#body.project a,#body.project a:visited{ color:#000;}.projectContent td.projects{ background-color:#666;}#postContent{ font-size:small; color:#999;}#postContent a,#postContent div.title{ color:#333;}#postContent p.img,#postContent div.gbcameraColumns,#postContent div.columns,#postContent div.threeColumns,#postContent div.fourColumns{ max-width:80%;}#postContent table{ font-size:small; color:#999;}#postContent img.galleryImage{ max-width:100px; max-height:100px;}#postContent.review{ color:#fff;}#postContent.review a,#postContent.review div.title,#postContent.review table{ color:#fff;}div.projects{ width:92%;}div.projects div.wrap{ position:relative; float:left; left:50%;}div.projects div.content{ position:relative; float:left; left:-50%;}div.projects div.projectImage{ background-position:center; background-color:#fff; height:100px; width:20px; margin-right:2px; position:relative; float:left; clear:inline-end;}div.projects div.projectImage a{ position:absolute; width:100%; height:100%; top:0; left:0;}</style></head><body alink="#FFFFFF" vlink="#FFFFFF" link="#FFFFFF" text="#FFFFFF" bgcolor="#666666"><div id="menu"><div id="menuContent"><table width="100%" border="0"><tr><td width="10%" align="center"></td><td width="90%" valign="top" align="right"><font size="2">- </font><a href="/old/v1"><font size="2">Home</font></a><font size="2"> - </font><a href="/old/v1/archive"><font size="2">Archives</font></a><font size="2"> - </font><a style="text-decoration: underline;"><font size="2">Comic</font></a><font size="2"> - </font><a href="/old/v1/projects"><font size="2">Works</font></a><font size="2"> - </font><a href="/old/v1/aboutme"><font size="2">Profile</font></a><font size="2"> - </font><a href="/old/v1/sitemap"><font size="2">Site Map</font></a><font size="2"> - </font><a href="/old/v1/radio"><font size="2">Radio</font></a><font size="2"> - </font><a href="/old/v1/hotline"><font size="2">Hotline</font></a><font size="2"> - </font><a style="text-decoration: underline;"><font size="2">Forum</font></a><font size="2"> - </font><a style="text-decoration: underline;"><font size="2">Links</font></a><font size="2"> -</font></td></tr></table></div></div><div class="project" id="body"><div id="bodyContent"><div align="center"><p><font size="2">-[ Thursday  October 13, 2022 ]-</font></p><table height="106" border="0" width="80%"><tr valign="top" align="left"><td height="63"><div align="center" id="postContent"><p><font color="#333333" size="2"><b><br/>Analogue Pocket Utils</b></font></p><p>For the last month, the Analogue Pocket has continued to be an absolute monster. The Sega Genesis is now available. The Nintendo Entertainment System is now available. Sega GameGear is available, too. And there have been many cores of 1980s Arcade games released, too.</p><p>It's starting to get unwieldily, so I've created a collection of programs to help me organize and process games so they can be played on the Pocket.</p><p><a href="https://github.com/dyreschlock/pocket-utils" title="https://github.com/dyreschlock/pocket-utils">https://github.com/dyreschlock/pocket-utils</a></p><p>I've been working on this pretty solidly for the past three weeks, and I think it's finally feature finished. The GitHub repository has straight forward information of how each process is set up and what exactly each process does. But, overall…</p><p>Pocket Utils is a collection of scripts and programs that do several things, including the following: (1) Process MRA files and Create Arcade Roms, (2) Create Library Images for sorted Games, and (3) Update Platform information for cores.</p><div class='title'><b>Process MRA Files</b></div><p>The Multi-Arcade Machine Emulator, or MAME, on computer standardized how to emulate arcade games. When ripping games from their original boards, each component had their own file, and everything was put together in a zip file. </p><p>FPGA emulation of arcade games doesn't like this. The chip wants direct read access to the data it wants and unzipping a file in memory is extra useless overhead. Thus, the idea of a MRA file was introduced. A MRA file contains specific instructions on how each piece of the arcade board can be assembled into a single ROM file. This file is not compressed and allow free access to all the data the FPGA wants. </p><p>A separate program is required to process these MRA files, though. I use this <a href="https://github.com/nullobject/mra-tools-c" title="https://github.com/nullobject/mra-tools-c">MRA Tool</a> found in NullObject's GitHub. When an arcade core is released for the Analogue Pocket, it'll come with MRA files to create ROMs from ZIP files of arcade components. You must get the arcade ROM zips, process the MRA file in the program giving it the zip files, and then place the generated ROM into the core's folder on the Analogue Pocket.</p><p>There are lots of steps to getting this to work, and many arcade cores released for the Analogue Pocket play multiple games. Some releases come with 10 or more games. In fact, arcade systems like Capcom CPS1 and CPS2 have as many as 300 variants of their games. Doing all of this manually is not feasible.</p><p>This program solves this problem.</p><p>Put all of your MRA files in the to-be-processed directory. Run the program. It'll attempt to download any and all ZIP files required to make the arcade rom, and store them locally. If the Arcade ROM is successfully generated, it'll copy it to the correct directory on the Pocket, and also copy the MRA file to the Pocket, too.</p><p>If it can't find the ZIP files online, you can manually search for them and put them in your local store. If a ROM was already generated, it'll copy over the MRA file anyway. If the MRA file is already there, it'll copy it to a duplicate directory.</p><p>With Standard games, everything works really well and there are almost never any problems. Problems usually only come up when trying to generate bootlegs or hacks of roms. Those often require extra steps.</p><div class='title'><b>Create Library Images</b></div><p>One of the most appealing features of the Analogue Pocket is the Library feature. </p><p>Something I've never liked about using emulators is having to choose the games I want to play from a list. It's so sterile and clinical. The Super Nintendo Mini was so amazing because of its visual presentation. You had a line games presented with their box art. And you could visually choose the game you wanted to play by selecting that box art.</p><p>The Library feature of the Analogue Pocket was just that. It gave you a visual list of all your games to select from. Further still, you could organize all of your games in Playlists. This was promised in Analogue's Tweet about <a href="https://twitter.com/analogue/status/1449389698493861888" title="https://twitter.com/analogue/status/1449389698493861888">Analogue OS</a>.</p><p>By default, the Analogue Pocket has an internal list of game data but it doesn't have an images. Early on, you could download an image pack that gave you all the title screens for every game. But I don't want title screens. I want box arts.</p><p>It took a little while to figure out, but the Analogue Pocket uses a CRC hash of the file to reference which image is uses in the Library. If you have a correctly sized PNG file, you can run it through <a href="https://github.com/DerTolleEmil/AnaloguePocketLibraryImageConverter" title="https://github.com/DerTolleEmil/AnaloguePocketLibraryImageConverter">DerTolleEmil</a>'s Image Converter and it'll give you a BIN file. Put this bin file in the correct folder named with the CRC hash, and it'll use this image in the Library.</p><p>So, my program goes a bit further with it.</p><p>In each of the folders for Consoles and Handhelds on the Analogue Pocket, I have the ROMs that I like sorted into genre folders. My initial "CreatePocketEntries" program will collect all of these games in my database. "CreateLibraryImages" will look at every game in my database and attempt to download the box art image from <a href="https://github.com/libretro-thumbnails/libretro-thumbnails" title="https://github.com/libretro-thumbnails/libretro-thumbnails">LibRetro</a> on Github. With this image, my program will resize it to the correct dimensions for the Pocket, convert the PNG image to BIN, name it correctly, and copy the file to the System folder on the Pocket.</p><p>Now, when using the Library, the image matches the box art. :)</p><p class='img'><a href="https://raw.githubusercontent.com/dyreschlock/dyreschlock.github.photos/master/photo/221013_pocket/IMG_3099.webp" title="https://raw.githubusercontent.com/dyreschlock/dyreschlock.github.photos/master/photo/221013_pocket/IMG_3099.webp"><img src="https://raw.githubusercontent.com/dyreschlock/dyreschlock.github.photos/master/photo/221013_pocket/IMG_3099_t.webp" loading="lazy" alt="https://raw.githubusercontent.com/dyreschlock/dyreschlock.github.photos/master/photo/221013_pocket/IMG_3099_t.webp" title="https://raw.githubusercontent.com/dyreschlock/dyreschlock.github.photos/master/photo/221013_pocket/IMG_3099_t.webp" /></a></p><div class='title'><b>Update Platform Information</b></div><p>Another thing that I collect in my database is Core information.</p><p>When a user chooses a core from the openFPGA menu on the Pocket, it lists certain information about itself, such as when the console or handheld was original released, who was the manufacture, and also the name and category of the core, too. All core developers are very particular about the accurate representation of the consoles, games, and their code, so this information is usually correct, but sometime it is not to avoid copyright and trademark violations.</p><p>In the database, it's easy for me to edit this information and also collect all the information into categories. My program will rewrite all of the information in the Platforms directory with what I have in my database. </p><p>Additionally, it'll create Platform Images using agg23's <a href="https://github.com/agg23/Analogue-Pocket-Image-Process" title="https://github.com/agg23/Analogue-Pocket-Image-Process">Platform Image Creator</a>. Any new images that I've made and placed in the processing directory will be converted and copied over.</p><div class='title'><b>Run the Updater</b></div><p>There is also a simple shell script that runs <a href="https://github.com/mattpannella/pocket-updater-utility" title="https://github.com/mattpannella/pocket-updater-utility">Matt Pannella</a>'s command line program with all of the settings that I like.</p><div class='title'><b>Future</b></div><p>I use this stuff pretty often when new cores and new features are released, so there continue to be more updates. When Playlists eventually come to the Pocket, I'll have a new program to make those. I'm also working on another program that will make a list of games I have in my "unsorted" directories for each core.</p><p>The Pocket continues to be one of the absolute best gaming devices made, and being able to make all this stuff to organize games has gotten back into programming on the side. It's been pretty great. :)<br/></p></div></td></tr></table></div><p align="center"><font size="2"><b>© 2001 <a style="text-decoration: underline;">Schlock</a>, All Rights Reserved ... !</b></font></p></div></div></body></html>